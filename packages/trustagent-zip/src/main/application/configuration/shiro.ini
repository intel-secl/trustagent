[main]
# setting ssl.enabled to false disables the "ssl required" filter
ssl.enabled = true
ssl.port = 1443

filePasswordRealm=com.intel.mtwilson.shiro.file.FilePasswordRealm
filePasswordRealm.userFilePath=/opt/trustagent/configuration/users.txt
filePasswordRealm.permissionFilePath=/opt/trustagent/configuration/permissions.txt
passwordMatcher=com.intel.mtwilson.shiro.authc.password.PasswordCredentialsMatcher
filePasswordRealm.credentialsMatcher=$passwordMatcher

securityManager.realms = $filePasswordRealm

# built-in authentication strategy
#authcStrategy = org.apache.shiro.authc.pam.FirstSuccessfulStrategy
#authcStrategy = org.apache.shiro.authc.pam.AtLeastOneSuccessfulStrategy
authcStrategy = com.intel.mtwilson.shiro.LoggingAtLeastOneSuccessfulStrategy
securityManager.authenticator.authenticationStrategy = $authcStrategy

authcPassword=com.intel.mtwilson.shiro.authc.password.HttpBasicAuthenticationFilter
authcPassword.applicationName=Trust Agent
authcPassword.authcScheme=Basic
authcPassword.authzScheme=Basic


# define security by url matching, the first match wins so order is important
# also /path/*  will match /path/a and /path/b but not /path/c/d 
# but /path/**  will match /path/a and /path/b and also /path/c/d
[urls]
/index.html = anon
/v2/version = anon
/** = ssl, authcPassword, perms
